(function(h){h.fn.typeNumber=function(d){d=d||{};d.hasOwnProperty("maxlength")||(d.maxlength=9);d.hasOwnProperty("decimals")||(d.decimals=2);d.hasOwnProperty("decPoint")||(d.decPoint=",");return this.each(function(){h(this).bind("keypress blur paste",function(b){var n=d.maxlength,g=d.decimals,m=d.decPoint,a="",e="",f=0,k=null,c=b.which||b.keyCode,k=String.fromCharCode(c),l=!1;try{"number"==typeof this.selectionStart&&(l=0==this.selectionStart&&this.selectionEnd==this.value.length)}catch(p){l=!1}l&&
/^[0-9]+$/.test(k)&&(this.value="");c=parseInt(c,10);c=isNaN(c)?0:c;if(!(0===b.which&&112<=c&&123>=c||b.shiftKey&&9===c))if(b.shiftKey||b.ctrlKey||"paste"==b.type||h(this).prop("readonly"))b.preventDefault(),b.stopPropagation();else if(this.value.length>=n&&-1===h.inArray(c,[8,9])&&(b.preventDefault(),b.stopPropagation()),8!=c){for(;f<this.value.length;f++)0<="1234567890".indexOf(this.value.charAt(f))&&(a+=this.value.charAt(f));if(0<="1234567890".indexOf(k)){for(;0<a.length;)if("0"==a.charAt(0))a=
a.substr(1,a.length-1);else break;a+=k}if(0<a.length)if(a.length<=g){e=a;for(f=a.length+1;f<=g;f++)e="0"+e;e="0"+m+e}else e=0<g?a.substr(0,a.length-g)+m+a.substr(a.length-g,g):a;if(!(0<=h.inArray(c,[37,39,36,35])||0===b.which&&46===b.keyCode)){if(/^[0-9]+$/.test(k)||9===c||0===c)this.value=e;9!==c&&(b.preventDefault(),b.stopPropagation())}}})})}})(jQuery);